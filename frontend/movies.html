<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title>Filmes - CineViewExperience</title>
  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/movies.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Bebas+Neue&display=swap" rel="stylesheet">
</head>  
<body>
  <div class="menu-wrapper auth-only">
    <button class="menu-btn" onclick="toggleMenu()">
      <img src="assets/icons/Burger.svg" alt="Menu" class="burger-icon">
    </button>
    <div class="dropdown hidden" id="userMenu">
      <a href="index.html">In√≠cio</a>
      <a href="profile.html">Perfil</a>
      <button onclick="logout()">Sair</button>
    </div>
  </div>  

  <div class="container">
    <h1 id="moviesTitle" class="auth-only">Filmes em Cartaz</h1>
    <div id="moviesList" class="auth-only"></div>
  </div>

  <div id="modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <div id="ticketContent">
        <h2>Comprar Ingresso</h2>
        <div class="modal-body">
          <div class="movie-info">
            <img id="modalPoster" src="" alt="Poster" />
            <h3 id="modalMovieTitle"></h3>
            <p id="modalDescription"></p>
          </div>
  
          <form id="ticketForm" onsubmit="submitTicket(event)">
            <input type="hidden" id="movieId" />
            <label for="quantity">Quantidade:</label>
            <input type="number" id="quantity" min="1" value="1" required />
  
            <label for="type">Tipo:</label>
            <select id="type" onchange="toggleProofInput()" required>
              <option value="inteira">Inteira</option>
              <option value="meia">Meia</option>
            </select>
  
            <div id="proofContainer" class="hidden">
              <label for="proof">Comprovante de meia:</label>
              <input type="text" id="proof" placeholder="Descreva seu comprovante" />
            </div>
  
            <label for="seats">Cadeiras (ex: A1,A2):</label>
            <input type="text" id="seats" placeholder="Ex: A1,A2" required />
  
            <p id="pricePreview" style="cursor: default;"></p>
  
            <button type="submit">Confirmar</button>
          </form>
        </div>
      </div>
  
      <div id="confirmationMessage" class="confirmation hidden">
        <h2>Compra Confirmada!</h2>
        <p id="confirmationText"></p>
      </div>
    </div>
  </div>  

  <script src="js/utils.js"></script>
  <script src="js/movies.js"></script>
  <script>
    loadMovies();
  </script>  
</body>
</html>